version: "3.6"
services:
  app:
    image: nginx:stable-alpine
    volumes:
      - ./app:/usr/share/nginx/html:ro
    ports:
      - 8080:80
    networks:
      - example
  puppeteer-cucumber:
    image: puppeteer-cucumber:latest
    volumes:
      - ./features:/home/node/app/features
      - ./reports:/home/node/app/test
    user: ${USERID}:${GROUPID}
    networks:
      - example
    environment:
      - HOST=app

networks:
  example:
